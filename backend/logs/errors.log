{"timestamp": "2025-08-06T12:32:05.930488", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:32:05.931670", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:32:05.932922", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:35:18.235658", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:35:18.236762", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:35:18.237791", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:43:45.677302", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:43:45.678184", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:43:45.679067", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:46:58.389524", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:46:58.390694", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:46:58.391852", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:48:07.532308", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:48:07.533146", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:48:07.534028", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:48:46.645122", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:48:46.646091", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:48:46.647120", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:52:54.199092", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:52:54.200632", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:52:54.202656", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:54:55.794892", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:54:55.796468", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:54:55.797778", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:57:06.726808", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:57:06.727758", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:57:06.728771", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:57:56.689784", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 52, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:57:56.690812", "level": "ERROR", "logger": "core.database", "message": "Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 152, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T12:57:56.691709", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.364489", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.408801", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.456981", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.457428", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.457845", "level": "ERROR", "logger": "core.database", "message": "This is a UTF-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.458689", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:22:08.459111", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.651949", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.695686", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.739718", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.740340", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.741646", "level": "ERROR", "logger": "core.database", "message": "This is a UTF-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.742856", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:25:05.743467", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.766839", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.820726", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.872235", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.872886", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.873431", "level": "ERROR", "logger": "core.database", "message": "This is a UTF-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.874459", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:29:29.875316", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.370478", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.413938", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.455308", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.455918", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.456382", "level": "ERROR", "logger": "core.database", "message": "This is a UTF-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.457388", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:32:28.457969", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.031577", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.076274", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.227129", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la création des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.227561", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.228053", "level": "ERROR", "logger": "core.database", "message": "This is a UTF-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.228884", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:35:20.229320", "level": "ERROR", "logger": "main", "message": "? Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.032967", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.080575", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.128490", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.128941", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.129440", "level": "ERROR", "logger": "core.database", "message": "This is a UTF-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.130469", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:42:54.131115", "level": "ERROR", "logger": "main", "message": "? Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:52:37.640170", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:52:37.640855", "level": "ERROR", "logger": "core.database", "message": "This is a latin-1 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:52:37.696810", "level": "ERROR", "logger": "main", "message": "? Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:54:34.219671", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:54:34.220504", "level": "ERROR", "logger": "core.database", "message": "This is a latin-1 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:54:34.256300", "level": "ERROR", "logger": "main", "message": "? Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:54:56.153073", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:54:56.153499", "level": "ERROR", "logger": "core.database", "message": "This is a latin-1 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T20:54:56.189344", "level": "ERROR", "logger": "main", "message": "? Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T21:00:39.677355", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T21:00:39.677751", "level": "ERROR", "logger": "core.database", "message": "This is a latin-1 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T21:00:39.714185", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T21:03:25.810540", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T21:03:25.811037", "level": "ERROR", "logger": "core.database", "message": "This is a latin-1 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-06T21:03:25.850065", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.350214", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.397337", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.549705", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.550166", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.550694", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.551730", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:05:02.552292", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:10.913908", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:10.961734", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:11.006762", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:11.007347", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:11.008213", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:11.009894", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:20:11.010653", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.190106", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.241328", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.294923", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.295247", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.295572", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.296240", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:21:38.296620", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.712628", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.780068", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.837783", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.838276", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.838703", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.839937", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:23:00.840597", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.501476", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.579314", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.643257", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.643876", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.644429", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.645697", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:46:43.646555", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:00.944169", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:00.990315", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:01.037975", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:01.038695", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:01.039790", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:01.040865", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:54:01.041561", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.363829", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.411754", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.458829", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.459551", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.460128", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.461472", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:58:50.462711", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.265885", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.312732", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.360773", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.361360", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.362064", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.363770", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T00:59:17.364670", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.663730", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.719895", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.783807", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.784450", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.785148", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.786804", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T01:06:17.787664", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:58.792475", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:58.914502", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:58.992987", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:58.994098", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:58.995579", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:58.998417", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:42:59.000125", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.734644", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.841471", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.943799", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.944733", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.945766", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.947727", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:58:45.949326", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.307962", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.394086", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.488999", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.492933", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.494392", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.497273", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T10:59:26.498681", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.032128", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.263757", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.372423", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.373320", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.374282", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.376557", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:38:54.377792", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.363264", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.473522", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.591923", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.593125", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.594269", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.596186", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T11:50:08.597532", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.094836", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.168687", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.268193", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.269207", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.270321", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.272368", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T15:20:25.273522", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.046568", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.127853", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.199833", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.200360", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.200944", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.202365", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-07T17:58:02.203093", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:22.846571", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:23.088236", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:23.243420", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:23.244765", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:23.246192", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:23.248995", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T14:36:23.252971", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:02.948013", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:03.081056", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:03.266726", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:03.269001", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:03.271404", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:03.276362", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:26:03.279773", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:08.723355", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:08.882240", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:09.018363", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:09.019847", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:09.023516", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:09.033785", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:31:09.037519", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.342669", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.492504", "level": "ERROR", "logger": "core.database", "message": "❌ Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.684710", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.686928", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.688491", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.691486", "level": "ERROR", "logger": "core.database", "message": "❌ Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:39:36.693078", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.262454", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.348845", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.465703", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.467833", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.468951", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.471420", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:45:57.472602", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:27.813103", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:27.922774", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:28.041562", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:28.043425", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:28.045583", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:28.048798", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T15:50:28.051001", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:24.953285", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:25.152146", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:25.388006", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:25.389760", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:25.392488", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:25.399167", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:09:25.408332", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.428078", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.548140", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.645532", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.646367", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.647244", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.648692", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:11:57.649598", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:13.913102", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:14.003907", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:14.092506", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:14.093370", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:14.094193", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:14.095800", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:13:14.096630", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.488772", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.585671", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.684052", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.685211", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.686061", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.688135", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-09T16:53:18.689392", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.462226", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.575668", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.672259", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.673004", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.673832", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.675464", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:28:55.676426", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:23.840675", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:23.937803", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:24.021488", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:24.022523", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:24.023481", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:24.025829", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T00:30:24.027502", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.192576", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.337034", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.386472", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.387111", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.388027", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.389672", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:25.390165", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.172236", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.225903", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.278240", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.278912", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.279528", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.280493", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:37.281153", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.283668", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.430060", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.627814", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.628704", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.629195", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.630083", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:43:49.630545", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.194194", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.241219", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.284587", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.285071", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.285579", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.286386", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:46:55.286773", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:24.884718", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:24.971160", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:25.045238", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:25.045973", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:25.046749", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:25.048110", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:52:25.048742", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.174971", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.238671", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 94, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.297782", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.298355", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 121, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.298980", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.300059", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 234, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-10T09:53:48.300643", "level": "ERROR", "logger": "main", "message": " Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 101, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T13:12:19.594926", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'Settings' object has no attribute 'ACCESS_TOKEN_EXPIRE_MINUTES'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:02:25.455978", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 400: Un utilisateur avec cet email existe dejà", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:02:27.408555", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 400: Un utilisateur avec cet email existe dejà", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:05:15.852438", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:06:16.949336", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:07:16.692661", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de la connexion: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:22:35.475211", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de la connexion: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:30:32.978245", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:31:19.087693", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:31:52.343887", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:32:49.369979", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:33:04.015598", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:33:18.217060", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T15:34:28.904594", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T16:42:11.653270", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 400: Un utilisateur avec cet email existe dejà", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T16:43:24.708453", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de la connexion: 'FieldInfo' object has no attribute 'encode'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:11:31.238213", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:12:25.202033", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de la connexion: name 'jwt' is not defined", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:20:18.389232", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de la connexion: JWTManager.create_access_token() got an unexpected keyword argument 'expires_delta'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:24:51.322783", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de la connexion: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:45:02.488827", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:45:57.786424", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:46:12.632666", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:47:38.894270", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T17:59:59.570549", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:19:03.505359", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour rachid.bennis@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T18:19:03.507321", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:39:59.753973", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:42:57.142212", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:42:59.046140", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:00.176594", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:00.984738", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:01.154429", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:01.358571", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:01.525575", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:01.685572", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:01.857722", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:02.045486", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:02.233320", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:02.423533", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:02.589775", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:02.779350", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:02.967237", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:03.128523", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:03.307329", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T18:43:03.548328", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: One or more mappers failed to initialize - can't proceed with initialization of other mappers. Triggering mapper: 'Mapper[RefreshToken(refresh_tokens)]'. Original exception was: Mapper 'Mapper[User(users)]' has no property 'refresh_tokens'.  If this property was indicated from other mappers or configure events, ensure registry.configure() has been called.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:17:23.726447", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:19:10.744987", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour mohamed.elamrani@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T19:19:10.745986", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:25:54.034876", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:35:03.364713", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:35:58.186530", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour khadija.elmansouri@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T19:35:58.189526", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:36:42.438599", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour khadija.elmansouri@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T19:36:42.443570", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:36:43.675136", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour khadija.elmansouri@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T19:36:43.676135", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:36:44.808751", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour khadija.elmansouri@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T19:36:44.811749", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-11T19:36:45.939289", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour khadija.elmansouri@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-11T19:36:45.941274", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:14:22.933455", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:17:18.947249", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:19:12.799419", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour iman.boulahya@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-12T19:19:12.809235", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:22:09.420073", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:22:12.271214", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:23:19.480335", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:06.865996", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors du stockage des embeddings: Expected metadata value to be a str, int, float, bool, or None, got ['général', 'contact', 'horaires'] which is a list in add.", "module": "embedding_service", "function": "_store_embeddings", "line": 183, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:06.868990", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document doc_1: Expected metadata value to be a str, int, float, bool, or None, got ['général', 'contact', 'horaires'] which is a list in add.", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:06.988475", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors du stockage des embeddings: Expected metadata value to be a str, int, float, bool, or None, got ['produits', 'services', 'tarifs', 'ia'] which is a list in add.", "module": "embedding_service", "function": "_store_embeddings", "line": 183, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:06.991476", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document doc_2: Expected metadata value to be a str, int, float, bool, or None, got ['produits', 'services', 'tarifs', 'ia'] which is a list in add.", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:07.102098", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors du stockage des embeddings: Expected metadata value to be a str, int, float, bool, or None, got ['support', 'urgence', 'sla'] which is a list in add.", "module": "embedding_service", "function": "_store_embeddings", "line": 183, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:07.104095", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document doc_3: Expected metadata value to be a str, int, float, bool, or None, got ['support', 'urgence', 'sla'] which is a list in add.", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:07.276564", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors du stockage des embeddings: Expected metadata value to be a str, int, float, bool, or None, got ['ia', 'api', 'nlp', 'documentation'] which is a list in add.", "module": "embedding_service", "function": "_store_embeddings", "line": 183, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:07.277973", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document doc_4: Expected metadata value to be a str, int, float, bool, or None, got ['ia', 'api', 'nlp', 'documentation'] which is a list in add.", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:10.085464", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 401 - {'error': {'message': \"Incorrect API key provided: annotati*****************************************************************EY'}. You can find your API key at https://platform.openai.com/account/api-keys.\", 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:10.094426", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 401 - {'error': {'message': \"Incorrect API key provided: annotati*****************************************************************EY'}. You can find your API key at https://platform.openai.com/account/api-keys.\", 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T19:55:10.347884", "level": "ERROR", "logger": "main", "message": "Global exception: Impossible de generer une reponse: Error code: 401 - {'error': {'message': \"Incorrect API key provided: annotati*****************************************************************EY'}. You can find your API key at https://platform.openai.com/account/api-keys.\", 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}", "module": "main", "function": "global_exception_handler", "line": 168, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\services\\rag_service.py\", line 224, in _generate_with_llm\n    response = await self.openai_client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\openai\\resources\\chat\\completions.py\", line 1661, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\openai\\_base_client.py\", line 1843, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\openai\\_base_client.py\", line 1537, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\openai\\_base_client.py\", line 1638, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.AuthenticationError: Error code: 401 - {'error': {'message': \"Incorrect API key provided: annotati*****************************************************************EY'}. You can find your API key at https://platform.openai.com/account/api-keys.\", 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\cors.py\", line 93, in __call__\n    await self.simple_response(scope, receive, send, request_headers=headers)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\cors.py\", line 144, in simple_response\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\gzip.py\", line 20, in __call__\n    await responder(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\gzip.py\", line 39, in __call__\n    await self.app(scope, receive, self.send_with_gzip)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\test.py\", line 12, in test_rag_endpoint\n    response = await tester.rag_service.generate_response(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\services\\rag_service.py\", line 65, in generate_response\n    generated_response = await self._generate_with_llm(final_prompt)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\services\\rag_service.py\", line 241, in _generate_with_llm\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Error code: 401 - {'error': {'message': \"Incorrect API key provided: annotati*****************************************************************EY'}. You can find your API key at https://platform.openai.com/account/api-keys.\", 'type': 'invalid_request_error', 'param': None, 'code': 'invalid_api_key'}}"}
{"timestamp": "2025-08-12T22:53:07.082037", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:03:33.708275", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:08:21.641328", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:09:01.310186", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:11:31.389685", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 400: Un utilisateur avec cet email existe dejà", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:12:24.321475", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:16:45.189606", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour nouhaila.mrabet4@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-12T23:16:45.194439", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:20:54.305814", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:22:44.083759", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:28:40.349333", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour test3@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-12T23:28:40.355419", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:29:05.728152", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour test3@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-12T23:29:05.732106", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:29:22.944566", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour test3@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 582, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 566, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-12T23:29:22.948572", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:35:36.559934", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour mohamed.elamrani@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 586, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 570, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-12T23:35:36.573198", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-12T23:55:11.442243", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: Expected a string value", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T00:01:05.729895", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour mohamed.elamrani@example.com: Expected a string value", "module": "auth", "function": "login", "line": 152, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 125, in login\n    access_token = jwt_manager.create_access_token(data=token_payload)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 586, in create_access_token\n    return self._create_token(data, expire_delta, \"access\")\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\core\\security.py\", line 570, in _create_token\n    return jwt.encode(to_encode, self.secret_key, algorithm=self.algorithm)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jwt.py\", line 73, in encode\n    return api_jws.encode(\n           ^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\api_jws.py\", line 160, in encode\n    key = alg_obj.prepare_key(key)\n          ^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\algorithms.py\", line 265, in prepare_key\n    key_bytes = force_bytes(key)\n                ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\jwt\\utils.py\", line 22, in force_bytes\n    raise TypeError(\"Expected a string value\")\nTypeError: Expected a string value"}
{"timestamp": "2025-08-13T00:01:05.734891", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "annotation=NoneType required=False default='development' json_schema_extra={'env': 'ENV'}", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T01:00:40.454842", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour mohamed.elamrani@example.com: 3 validation errors for UserResponse\nconversation_count\n  Field required [type=missing, input_value=<User(id=2, email='mohame...mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nmessage_count\n  Field required [type=missing, input_value=<User(id=2, email='mohame...mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nis_new_user\n  Error extracting attribute: TypeError: can't subtract offset-naive and offset-aware datetimes [type=get_attribute_error, input_value=<User(id=2, email='mohame...mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/get_attribute_error", "module": "auth", "function": "login", "line": 143, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 131, in login\n    user=UserResponse.model_validate(user),\n         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\pydantic\\main.py\", line 627, in model_validate\n    return cls.__pydantic_validator__.validate_python(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 3 validation errors for UserResponse\nconversation_count\n  Field required [type=missing, input_value=<User(id=2, email='mohame...mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nmessage_count\n  Field required [type=missing, input_value=<User(id=2, email='mohame...mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nis_new_user\n  Error extracting attribute: TypeError: can't subtract offset-naive and offset-aware datetimes [type=get_attribute_error, input_value=<User(id=2, email='mohame...mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/get_attribute_error"}
{"timestamp": "2025-08-13T01:00:40.456911", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T01:09:44.629724", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 3 validation errors for UserResponse\nconversation_count\n  Field required [type=missing, input_value=<User(id=22, email='anas....mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nmessage_count\n  Field required [type=missing, input_value=<User(id=22, email='anas....mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing\nis_new_user\n  Error extracting attribute: TypeError: can't subtract offset-naive and offset-aware datetimes [type=get_attribute_error, input_value=<User(id=22, email='anas....mple.com', role='user')>, input_type=User]\n    For further information visit https://errors.pydantic.dev/2.10/v/get_attribute_error", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T01:18:20.077330", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 1 validation error for RegisterResponse\nuser\n  Input should be a valid dictionary [type=dict_type, input_value=UserResponse(email='abdel...unt=0, is_new_user=True), input_type=UserResponse]\n    For further information visit https://errors.pydantic.dev/2.10/v/dict_type", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T01:19:25.055783", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour abdel.elhachem@example.com: 2 validation errors for LoginResponse\nuser\n  Input should be a valid dictionary [type=dict_type, input_value=UserResponse(email='abdel...unt=0, is_new_user=True), input_type=UserResponse]\n    For further information visit https://errors.pydantic.dev/2.10/v/dict_type\nexpires_in\n  Field required [type=missing, input_value={'message': 'Connexion r... 'token_type': 'bearer'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "module": "auth", "function": "login", "line": 196, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 182, in login\n    response = LoginResponse(\n               ^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 2 validation errors for LoginResponse\nuser\n  Input should be a valid dictionary [type=dict_type, input_value=UserResponse(email='abdel...unt=0, is_new_user=True), input_type=UserResponse]\n    For further information visit https://errors.pydantic.dev/2.10/v/dict_type\nexpires_in\n  Field required [type=missing, input_value={'message': 'Connexion r... 'token_type': 'bearer'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"}
{"timestamp": "2025-08-13T01:19:25.057326", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T11:08:13.532948", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors de l'inscription: 1 validation error for RegisterResponse\nuser\n  Input should be a valid dictionary [type=dict_type, input_value=UserResponse(email='hassa...unt=0, is_new_user=True), input_type=UserResponse]\n    For further information visit https://errors.pydantic.dev/2.10/v/dict_type", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T11:24:21.080566", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour sara.bouzid@example.com: 1 validation error for LoginResponse\nexpires_in\n  Field required [type=missing, input_value={'message': 'Connexion r... 'token_type': 'bearer'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "module": "auth", "function": "login", "line": 186, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 172, in login\n    response = LoginResponse(\n               ^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for LoginResponse\nexpires_in\n  Field required [type=missing, input_value={'message': 'Connexion r... 'token_type': 'bearer'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"}
{"timestamp": "2025-08-13T11:24:21.090644", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T11:36:00.197955", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "ERREUR INATTENDUE lors de la connexion pour sara.bouzid@example.com: 1 validation error for LoginResponse\nexpires_in\n  Field required [type=missing, input_value={'message': 'Connexion r... 'token_type': 'bearer'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing", "module": "auth", "function": "login", "line": 186, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 172, in login\n    response = LoginResponse(\n               ^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\pydantic\\main.py\", line 214, in __init__\n    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)\n                     ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\npydantic_core._pydantic_core.ValidationError: 1 validation error for LoginResponse\nexpires_in\n  Field required [type=missing, input_value={'message': 'Connexion r... 'token_type': 'bearer'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.10/v/missing"}
{"timestamp": "2025-08-13T11:36:00.201959", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur interne du serveur lors de la connexion.", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T12:00:42.869984", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T13:54:30.312439", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:12:47.453027", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:13:12.851722", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:13:23.862922", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:13:58.156689", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:27:44.110846", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 'User' object has no attribute 'profile_picture'", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:27:44.312718", "level": "ERROR", "logger": "main", "message": "Global exception: 'User' object has no attribute 'profile_picture'", "module": "main", "function": "global_exception_handler", "line": 168, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\gzip.py\", line 22, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\fastapi\\routing.py\", line 301, in app\n    raw_response = await run_endpoint_function(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\pc\\AppData\\Roaming\\Python\\Python311\\site-packages\\fastapi\\routing.py\", line 212, in run_endpoint_function\n    return await dependant.call(**values)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\backend_corrige\\backend\\api\\v1\\endpoints\\auth.py\", line 340, in get_profile\n    profile_picture=current_user.profile_picture,\n                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'User' object has no attribute 'profile_picture'"}
{"timestamp": "2025-08-13T14:28:10.675856", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not enough permissions", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:52:29.263342", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-13T14:52:45.896300", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 403: Not authenticated", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:33:14.490416", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:35:27.165798", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:35:27.169662", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:35:27.172665", "level": "ERROR", "logger": "services.chat_service", "message": "Error processing message: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 197, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:35:27.176672", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors du traitement du message: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:36:42.101857", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:38:44.754999", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:38:44.758034", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:38:44.761032", "level": "ERROR", "logger": "services.chat_service", "message": "Error processing message: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 197, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T14:38:44.765096", "level": "ERROR", "logger": "core.database", "message": "Erreur de session DB: 500: Erreur lors du traitement du message: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "database", "function": "get_db", "line": 156, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:36:05.606279", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:36:09.713285", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:36:13.804072", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:36:13.804433", "level": "ERROR", "logger": "core.database", "message": "Error type: OperationalError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:36:13.805154", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:36:13.805713", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:42:22.370652", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:42:26.484600", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:42:30.549117", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:42:30.549531", "level": "ERROR", "logger": "core.database", "message": "Error type: OperationalError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:42:30.550218", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-14T23:42:30.550738", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (psycopg2.OperationalError) connection to server at \"localhost\" (::1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\nconnection to server at \"localhost\" (127.0.0.1), port 5432 failed: Connection refused (0x0000274D/10061)\n\tIs the server running on that host and accepting TCP/IP connections?\n\n(Background on this error at: https://sqlalche.me/e/20/e3q8)", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.527302", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.580528", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.626006", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.626685", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.627265", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.628373", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:19:15.628975", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.406092", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.554051", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.604571", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.605138", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.605662", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.606753", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T21:56:48.607279", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.641170", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.696031", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.746075", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.746621", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.747257", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.748313", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:00:09.748867", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:25.963198", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:26.011122", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:26.167018", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:26.167489", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:26.168083", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:26.169082", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:28:26.169653", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.653704", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.703675", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.754007", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.754497", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.755062", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.756122", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:39:54.756787", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.763344", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.802166", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.950158", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.950581", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.950969", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.951790", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T22:58:02.952222", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.513043", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.564980", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.714850", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.715359", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.715930", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.716983", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:03:33.717493", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.746479", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.771024", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.786396", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.810885", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.823336", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.823731", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.824268", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.825286", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.825765", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.848076", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.848435", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.848835", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.849644", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:06.850384", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.461107", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.545088", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.580865", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.610787", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.620783", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.621129", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.621522", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.622206", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.622692", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.649211", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.649626", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.650011", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.650696", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:18.651129", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.881358", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.919341", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.955059", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.955495", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.956015", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.956941", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.957425", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:36.988817", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:37.026108", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:37.062140", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:37.062581", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:37.063052", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:37.063721", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:37.064100", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.610702", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.641377", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.678117", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.712242", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.712721", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.713248", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.713949", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.714357", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.751929", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.791741", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.792128", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.792473", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.793230", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:11:48.793650", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.584934", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.585476", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.625464", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.626126", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.664660", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.665012", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.665371", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.666092", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.666581", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.763783", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.764121", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.764533", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.765356", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-15T23:12:00.765761", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.485090", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.626234", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.656677", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.656922", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.657190", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.657764", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:25:02.658043", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:29.946402", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:29.976190", "level": "ERROR", "logger": "core.database", "message": " Database connection test failed: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "_test_connection", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:30.003354", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:30.003630", "level": "ERROR", "logger": "core.database", "message": "Error type: UnicodeDecodeError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:30.003894", "level": "ERROR", "logger": "core.database", "message": "This is a utf-8 encoding issue. Check your PostgreSQL locale settings.", "module": "database", "function": "create_tables", "line": 122, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:30.004520", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T01:49:30.004904", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'utf-8' codec can't decode byte 0xe9 in position 103: invalid continuation byte", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T02:03:33.216433", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de la creation des tables: (psycopg2.errors.UniqueViolation) ERREUR:  la valeur d'une clé dupliquée rompt la contrainte unique « pg_type_typname_nsp_index »\nDETAIL:  La clé « (typname, typnamespace)=(user_role_enum, 2200) » existe déjà.\n\n[SQL: CREATE TYPE user_role_enum AS ENUM ('ADMIN', 'USER', 'MODERATOR')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "database", "function": "create_tables", "line": 119, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T02:03:33.217015", "level": "ERROR", "logger": "core.database", "message": "Error type: IntegrityError", "module": "database", "function": "create_tables", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T02:03:33.217860", "level": "ERROR", "logger": "core.database", "message": " Erreur lors de l'initialisation de la DB: (psycopg2.errors.UniqueViolation) ERREUR:  la valeur d'une clé dupliquée rompt la contrainte unique « pg_type_typname_nsp_index »\nDETAIL:  La clé « (typname, typnamespace)=(user_role_enum, 2200) » existe déjà.\n\n[SQL: CREATE TYPE user_role_enum AS ENUM ('ADMIN', 'USER', 'MODERATOR')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "database", "function": "init_db", "line": 233, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T02:03:33.218596", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (psycopg2.errors.UniqueViolation) ERREUR:  la valeur d'une clé dupliquée rompt la contrainte unique « pg_type_typname_nsp_index »\nDETAIL:  La clé « (typname, typnamespace)=(user_role_enum, 2200) » existe déjà.\n\n[SQL: CREATE TYPE user_role_enum AS ENUM ('ADMIN', 'USER', 'MODERATOR')]\n(Background on this error at: https://sqlalche.me/e/20/gkpj)", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T02:32:10.884641", "level": "ERROR", "logger": "core.database", "message": "DB session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 161, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:17:07.361703", "level": "ERROR", "logger": "core.database", "message": "DB session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 161, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:19:07.413341", "level": "ERROR", "logger": "core.database", "message": "DB session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 161, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:19:39.133993", "level": "ERROR", "logger": "core.database", "message": "DB session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 161, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:08.456649", "level": "ERROR", "logger": "core.database", "message": "Database connection test failed: 'NoneType' object has no attribute 'connect'", "module": "database", "function": "_test_connection", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:08.457221", "level": "ERROR", "logger": "core.database", "message": "Error setting up database engine: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "database", "function": "_setup_engines", "line": 89, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:08.457733", "level": "ERROR", "logger": "core.database", "message": "Error creating tables: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "database", "function": "create_tables", "line": 135, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:08.458110", "level": "ERROR", "logger": "core.database", "message": "Error type: ArgumentError", "module": "database", "function": "create_tables", "line": 136, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:08.458548", "level": "ERROR", "logger": "core.database", "message": "Error initializing database: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "database", "function": "init_db", "line": 293, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:08.459013", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:58.841733", "level": "ERROR", "logger": "core.database", "message": "Database connection test failed: 'NoneType' object has no attribute 'connect'", "module": "database", "function": "_test_connection", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:58.842800", "level": "ERROR", "logger": "core.database", "message": "Error setting up database engine: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "database", "function": "_setup_engines", "line": 89, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:58.843369", "level": "ERROR", "logger": "core.database", "message": "Error creating tables: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "database", "function": "create_tables", "line": 135, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:58.843849", "level": "ERROR", "logger": "core.database", "message": "Error type: ArgumentError", "module": "database", "function": "create_tables", "line": 136, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:58.844425", "level": "ERROR", "logger": "core.database", "message": "Error initializing database: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "database", "function": "init_db", "line": 293, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:37:58.845043", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: Expected string or URL object, got PostgresDsn('postgresql://mustapha:Yufn6191@localhost:5432/ragdb')", "module": "main", "function": "lifespan", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:48:37.742076", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:50:12.492840", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T15:53:02.428157", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T16:03:50.522732", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T16:03:57.172786", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T17:58:13.676888", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T18:01:03.936212", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T18:03:58.926792", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T18:04:21.217162", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T18:25:03.861926", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T18:33:40.842853", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:01:42.537070", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:01:43.955484", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:04:20.384782", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement du message: 'username' is an invalid keyword argument for User", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:10:13.360263", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement du message: property 'full_name' of 'User' object has no setter", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:18:37.952001", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:18:37.952684", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:18:37.953594", "level": "ERROR", "logger": "services.chat_service", "message": "RAG service error: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 226, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:20:45.108102", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:20:45.108826", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:20:45.109598", "level": "ERROR", "logger": "services.chat_service", "message": "RAG service error: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 226, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:39:24.622392", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:39:24.623350", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:39:24.624203", "level": "ERROR", "logger": "services.chat_service", "message": "RAG service error: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 226, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:46:09.524587", "level": "ERROR", "logger": "services.chat_service", "message": "Critical error processing message for user 11: 'ChatService' object has no attribute 'create_conversation'", "module": "chat_service", "function": "process_message", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 37, in process_message\n    conversation = self.create_conversation(user_id)\n                   ^^^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ChatService' object has no attribute 'create_conversation'"}
{"timestamp": "2025-08-16T19:46:09.526070", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement du message: 'ChatService' object has no attribute 'create_conversation'", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:48:43.829762", "level": "ERROR", "logger": "services.chat_service", "message": "Critical error processing message for user 11: 'ChatService' object has no attribute 'get_conversation'", "module": "chat_service", "function": "process_message", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 33, in process_message\n    conversation = self.get_conversation(message_request.conversation_id, user_id)\n                   ^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ChatService' object has no attribute 'get_conversation'"}
{"timestamp": "2025-08-16T19:48:43.831231", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement du message: 'ChatService' object has no attribute 'get_conversation'", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-16T19:54:35.388144", "level": "ERROR", "logger": "services.chat_service", "message": "Critical error processing message for user 11: 'ChatService' object has no attribute 'get_conversation'", "module": "chat_service", "function": "process_message", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 33, in process_message\n    conversation = self.get_conversation(message_request.conversation_id, user_id)\n                   ^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ChatService' object has no attribute 'get_conversation'"}
{"timestamp": "2025-08-16T19:54:35.391574", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement du message: 'ChatService' object has no attribute 'get_conversation'", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-17T20:48:58.361411", "level": "ERROR", "logger": "services.chat_service", "message": "Critical error processing message for user 11: 'ChatService' object has no attribute 'get_conversation'", "module": "chat_service", "function": "process_message", "line": 120, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 33, in process_message\n    conversation = self.get_conversation(message_request.conversation_id, user_id)\n                   ^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'ChatService' object has no attribute 'get_conversation'"}
{"timestamp": "2025-08-17T20:48:58.372073", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement du message: 'ChatService' object has no attribute 'get_conversation'", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-17T20:56:29.281525", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-17T20:56:29.282138", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-17T20:56:29.295380", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 224, in _generate_with_llm\n    response = await self.openai_client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions.py\", line 1661, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n    ...<41 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1843, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1537, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1623, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1670, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1623, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1670, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1638, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 65, in generate_response\n    generated_response = await self._generate_with_llm(final_prompt)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 241, in _generate_with_llm\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"}
{"timestamp": "2025-08-17T21:11:32.183926", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-17T21:11:32.184593", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-17T21:11:32.197653", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 224, in _generate_with_llm\n    response = await self.openai_client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions.py\", line 1661, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n    ...<41 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1843, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1537, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1623, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1670, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1623, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1670, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1638, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 65, in generate_response\n    generated_response = await self._generate_with_llm(final_prompt)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 241, in _generate_with_llm\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"}
{"timestamp": "2025-08-18T15:17:28.017263", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation OpenAI: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "_generate_with_llm", "line": 240, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T15:17:28.042763", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "rag_service", "function": "generate_response", "line": 79, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T15:17:28.075727", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 224, in _generate_with_llm\n    response = await self.openai_client.chat.completions.create(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\resources\\chat\\completions.py\", line 1661, in create\n    return await self._post(\n           ^^^^^^^^^^^^^^^^^\n    ...<41 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1843, in post\n    return await self.request(cast_to, opts, stream=stream, stream_cls=stream_cls)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1537, in request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1623, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1670, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1623, in _request\n    return await self._retry_request(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1670, in _retry_request\n    return await self._request(\n           ^^^^^^^^^^^^^^^^^^^^\n    ...<5 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\openai\\_base_client.py\", line 1638, in _request\n    raise self._make_status_error_from_response(err.response) from None\nopenai.RateLimitError: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 65, in generate_response\n    generated_response = await self._generate_with_llm(final_prompt)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 241, in _generate_with_llm\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Error code: 429 - {'error': {'message': 'You exceeded your current quota, please check your plan and billing details. For more information on this error, read the docs: https://platform.openai.com/docs/guides/error-codes/api-errors.', 'type': 'insufficient_quota', 'param': None, 'code': 'insufficient_quota'}}"}
{"timestamp": "2025-08-18T16:18:42.928925", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize RAGService: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:18:42.959925", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 105, in lifespan\n    rag_service = RAGService(embedding_service)\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 20, in __init__\n    self.huggingface_model = settings.HUGGINGFACE_MODEL\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\pydantic\\main.py\", line 892, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'. Did you mean: 'HUGGINGFACE_API_KEY'?"}
{"timestamp": "2025-08-18T16:19:06.318877", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize RAGService: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:19:06.354356", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 105, in lifespan\n    rag_service = RAGService(embedding_service)\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 20, in __init__\n    self.huggingface_model = settings.HUGGINGFACE_MODEL\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\pydantic\\main.py\", line 892, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'. Did you mean: 'HUGGINGFACE_API_KEY'?"}
{"timestamp": "2025-08-18T16:19:30.412128", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize RAGService: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:19:30.421077", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 105, in lifespan\n    rag_service = RAGService(embedding_service)\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 20, in __init__\n    self.huggingface_model = settings.HUGGINGFACE_MODEL\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\pydantic\\main.py\", line 892, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'. Did you mean: 'HUGGINGFACE_API_KEY'?"}
{"timestamp": "2025-08-18T16:24:45.919224", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize RAGService: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:24:45.928272", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'", "module": "main", "function": "lifespan", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 105, in lifespan\n    rag_service = RAGService(embedding_service)\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 20, in __init__\n    self.huggingface_model = settings.HUGGINGFACE_MODEL\n                             ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\pydantic\\main.py\", line 892, in __getattr__\n    raise AttributeError(f'{type(self).__name__!r} object has no attribute {item!r}')\nAttributeError: 'Settings' object has no attribute 'HUGGINGFACE_MODEL'. Did you mean: 'HUGGINGFACE_API_KEY'?"}
{"timestamp": "2025-08-18T16:35:54.340970", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur API Hugging Face (404): Not Found", "module": "rag_service", "function": "_generate_with_huggingface", "line": 290, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:35:54.341827", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation Hugging Face: Erreur API Hugging Face: Not Found", "module": "rag_service", "function": "_generate_with_huggingface", "line": 322, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:35:54.342571", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Erreur API Hugging Face: Not Found", "module": "rag_service", "function": "generate_response", "line": 117, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:35:54.350830", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Erreur API Hugging Face: Not Found", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 300, in _generate_with_huggingface\n    raise Exception(f\"Erreur API Hugging Face: {error_detail}\")\nException: Erreur API Hugging Face: Not Found\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 103, in generate_response\n    generated_response = await self._generate_with_huggingface(final_prompt)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 325, in _generate_with_huggingface\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Erreur API Hugging Face: Not Found"}
{"timestamp": "2025-08-18T16:40:06.982950", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize RAGService: 'RAGService' object has no attribute 'initialize'", "module": "main", "function": "lifespan", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-18T16:40:06.985797", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: 'RAGService' object has no attribute 'initialize'", "module": "main", "function": "lifespan", "line": 123, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 107, in lifespan\n    await rag_service.initialize()\n          ^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'RAGService' object has no attribute 'initialize'"}
{"timestamp": "2025-08-19T15:38:34.419011", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur API Hugging Face (403): {\"error\":\"This authentication method does not have sufficient permissions to call Inference Providers on behalf of user mustaphaxz\"}", "module": "rag_service", "function": "_generate_with_huggingface", "line": 290, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-19T15:38:34.434028", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation Hugging Face: Erreur API Hugging Face: {\"error\":\"This authentication method does not have sufficient permissions to call Inference Providers on behalf of user mustaphaxz\"}", "module": "rag_service", "function": "_generate_with_huggingface", "line": 322, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-19T15:38:34.435126", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Erreur API Hugging Face: {\"error\":\"This authentication method does not have sufficient permissions to call Inference Providers on behalf of user mustaphaxz\"}", "module": "rag_service", "function": "generate_response", "line": 117, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-19T15:38:34.445859", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Erreur API Hugging Face: {\"error\":\"This authentication method does not have sufficient permissions to call Inference Providers on behalf of user mustaphaxz\"}", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 300, in _generate_with_huggingface\n    raise Exception(f\"Erreur API Hugging Face: {error_detail}\")\nException: Erreur API Hugging Face: {\"error\":\"This authentication method does not have sufficient permissions to call Inference Providers on behalf of user mustaphaxz\"}\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 103, in generate_response\n    generated_response = await self._generate_with_huggingface(final_prompt)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 325, in _generate_with_huggingface\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Erreur API Hugging Face: {\"error\":\"This authentication method does not have sufficient permissions to call Inference Providers on behalf of user mustaphaxz\"}"}
{"timestamp": "2025-08-21T20:12:52.358441", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur API Claude (400): {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"},\"request_id\":\"req_011CSMTxnPu1972gHtMPWNUR\"}", "module": "rag_service", "function": "_generate_with_claude", "line": 305, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:12:52.383233", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation Claude: Erreur de requête Claude. Vérifiez les paramètres.", "module": "rag_service", "function": "_generate_with_claude", "line": 339, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:12:52.383891", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres.", "module": "rag_service", "function": "generate_response", "line": 131, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:12:52.393355", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres.", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 313, in _generate_with_claude\n    raise Exception(\"Erreur de requête Claude. Vérifiez les paramètres.\")\nException: Erreur de requête Claude. Vérifiez les paramètres.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 117, in generate_response\n    generated_response = await self._generate_with_claude(messages)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 340, in _generate_with_claude\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres."}
{"timestamp": "2025-08-21T20:30:29.291247", "level": "ERROR", "logger": "services.rag_service", "message": "❌ ERREUR 400 - Requête malformée", "module": "rag_service", "function": "_check_api_availability", "line": 113, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:30:29.292003", "level": "ERROR", "logger": "services.rag_service", "message": "🔧 Solutions possibles:", "module": "rag_service", "function": "_check_api_availability", "line": 114, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:30:29.292805", "level": "ERROR", "logger": "services.rag_service", "message": "   1. Le modèle spécifié n'existe peut-être pas", "module": "rag_service", "function": "_check_api_availability", "line": 115, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:30:29.293350", "level": "ERROR", "logger": "services.rag_service", "message": "   2. Vérifiez la configuration dans core/config.py", "module": "rag_service", "function": "_check_api_availability", "line": 116, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:30:29.294085", "level": "ERROR", "logger": "services.rag_service", "message": "   3. Détail de l'erreur: {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"},\"request_id\":\"req_011CSMVJiSSamqaWwXyDCWsK\"}", "module": "rag_service", "function": "_check_api_availability", "line": 117, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.937199", "level": "ERROR", "logger": "services.rag_service", "message": "❌ ERREUR 400 - Requête malformée", "module": "rag_service", "function": "_check_api_availability", "line": 113, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.937773", "level": "ERROR", "logger": "services.rag_service", "message": "🔧 Solutions possibles:", "module": "rag_service", "function": "_check_api_availability", "line": 114, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.940060", "level": "ERROR", "logger": "services.rag_service", "message": "   1. Le modèle spécifié n'existe peut-être pas", "module": "rag_service", "function": "_check_api_availability", "line": 115, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.940981", "level": "ERROR", "logger": "services.rag_service", "message": "   2. Vérifiez la configuration dans core/config.py", "module": "rag_service", "function": "_check_api_availability", "line": 116, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.942322", "level": "ERROR", "logger": "services.rag_service", "message": "   3. Détail de l'erreur: {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"},\"request_id\":\"req_011CSMVRcrXzbbWEYjwC5sKp\"}", "module": "rag_service", "function": "_check_api_availability", "line": 117, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.974935", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: 'RAGService' object has no attribute '_preprocess_query'", "module": "rag_service", "function": "generate_response", "line": 362, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:32:02.980627", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: 'RAGService' object has no attribute '_preprocess_query'", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 330, in generate_response\n    processed_query = await self._preprocess_query(query)\n                            ^^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'RAGService' object has no attribute '_preprocess_query'"}
{"timestamp": "2025-08-21T20:40:56.099181", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur API Claude (400): {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"},\"request_id\":\"req_011CSMW6vPoqkP78Aotq1BDZ\"}", "module": "rag_service", "function": "_generate_with_claude", "line": 305, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:40:56.100273", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation Claude: Erreur de requête Claude. Vérifiez les paramètres.", "module": "rag_service", "function": "_generate_with_claude", "line": 339, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:40:56.101104", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres.", "module": "rag_service", "function": "generate_response", "line": 131, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:40:56.109026", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres.", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 313, in _generate_with_claude\n    raise Exception(\"Erreur de requête Claude. Vérifiez les paramètres.\")\nException: Erreur de requête Claude. Vérifiez les paramètres.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 117, in generate_response\n    generated_response = await self._generate_with_claude(messages)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 340, in _generate_with_claude\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres."}
{"timestamp": "2025-08-21T20:57:32.988702", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur API Claude (400): {\"type\":\"error\",\"error\":{\"type\":\"invalid_request_error\",\"message\":\"Your credit balance is too low to access the Anthropic API. Please go to Plans & Billing to upgrade or purchase credits.\"},\"request_id\":\"req_011CSMXNQWmtpnFrTdPsTZkJ\"}", "module": "rag_service", "function": "_generate_with_claude", "line": 305, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:57:32.989684", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation Claude: Erreur de requête Claude. Vérifiez les paramètres.", "module": "rag_service", "function": "_generate_with_claude", "line": 339, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:57:32.990345", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la generation RAG: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres.", "module": "rag_service", "function": "generate_response", "line": 131, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-21T20:57:32.999092", "level": "ERROR", "logger": "services.chat_service", "message": "Specific RAG service error: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres.", "module": "chat_service", "function": "process_message", "line": 93, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 313, in _generate_with_claude\n    raise Exception(\"Erreur de requête Claude. Vérifiez les paramètres.\")\nException: Erreur de requête Claude. Vérifiez les paramètres.\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\chat_service.py\", line 63, in process_message\n    rag_response = await self.rag_service.generate_response(\n                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 117, in generate_response\n    generated_response = await self._generate_with_claude(messages)\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 340, in _generate_with_claude\n    raise Exception(f\"Impossible de generer une reponse: {str(e)}\")\nException: Impossible de generer une reponse: Erreur de requête Claude. Vérifiez les paramètres."}
{"timestamp": "2025-08-22T07:07:49.144904", "level": "ERROR", "logger": "services.ollama_service", "message": "Timeout lors de l'appel à Ollama", "module": "ollama_service", "function": "generate_response", "line": 155, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:07:49.170138", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la génération RAG: La génération a pris trop de temps. Veuillez réessayer.", "module": "rag_service", "function": "generate_response", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:12:14.825760", "level": "ERROR", "logger": "core.database", "message": "Database session error: 403: Not authenticated", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.013036", "level": "ERROR", "logger": "api.v1.endpoints.documents", "message": "Document upload error: 'Document' object has no attribute 'processed_at'", "module": "documents", "function": "upload_document", "line": 136, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\documents.py\", line 129, in upload_document\n    processed_at=document.processed_at,\n                 ^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'Document' object has no attribute 'processed_at'"}
{"timestamp": "2025-08-22T07:27:10.022787", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.023641", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 1: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.025037", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.025780", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 1: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.027106", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.027825", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 1: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.028550", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.029436", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 1: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T07:27:10.031449", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du telechargement: 'Document' object has no attribute 'processed_at'", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.679715", "level": "ERROR", "logger": "api.v1.endpoints.documents", "message": "Document upload error: 'Document' object has no attribute 'processed_at'", "module": "documents", "function": "upload_document", "line": 136, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\documents.py\", line 129, in upload_document\n    processed_at=document.processed_at,\n                 ^^^^^^^^^^^^^^^^^^^^^\nAttributeError: 'Document' object has no attribute 'processed_at'"}
{"timestamp": "2025-08-22T15:37:01.691065", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.692240", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 2: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.693789", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.694447", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 2: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.695919", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.696631", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 2: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.697480", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.698455", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 2: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:37:01.700578", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du telechargement: 'Document' object has no attribute 'processed_at'", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.881005", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.882118", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 3: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.883495", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.884423", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 3: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.885652", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.886411", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 3: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.887099", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T15:58:38.887878", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 3: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:01.640009", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.779442", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.779816", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.780292", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.780685", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.781126", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.781457", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.781882", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.782320", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.782754", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.783232", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.783897", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.784244", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.784723", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.785109", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.785675", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.786131", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.786766", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T19:53:23.787162", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 4: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:29:42.862622", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.253302", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.254020", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.255080", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.255616", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.256314", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.256821", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.257471", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.258001", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.258638", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.259094", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.259854", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.260374", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.261376", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.261954", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.262720", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.263214", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.263788", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.264271", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.264891", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 109, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-22T22:30:25.265392", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 5: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 164, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T04:31:55.455957", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T04:35:41.151706", "level": "ERROR", "logger": "services.ollama_service", "message": "Timeout lors de l'appel à Ollama", "module": "ollama_service", "function": "generate_response", "line": 155, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T04:35:41.153521", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la génération RAG: La génération a pris trop de temps. Veuillez réessayer.", "module": "rag_service", "function": "generate_response", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T19:20:08.726446", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T21:00:00.594884", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T21:59:25.195894", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001B1700A51D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 79b124f3-5b60-4afe-8488-2d46fae497bc)')", "module": "embedding_service", "function": "initialize", "line": 47, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T21:59:25.196845", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize EmbeddingService: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001B1700A51D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 79b124f3-5b60-4afe-8488-2d46fae497bc)')", "module": "main", "function": "lifespan", "line": 102, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T21:59:25.562858", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001B1700A51D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 79b124f3-5b60-4afe-8488-2d46fae497bc)')", "module": "main", "function": "lifespan", "line": 124, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x000001B1700A51D0>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001B1700A51D0>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 99, in lifespan\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 35, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001B1700A51D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 79b124f3-5b60-4afe-8488-2d46fae497bc)')"}
{"timestamp": "2025-08-23T22:18:23.569800", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 104, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T22:18:23.570509", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 6: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 171, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T22:18:23.572366", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 104, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T22:18:23.572938", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 6: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 171, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T22:18:23.574735", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 104, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T22:18:23.575272", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'indexation du document 6: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 171, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T23:32:02.773968", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T23:33:31.629001", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la recherche de documents: EmbeddingService.search_similar_documents() got an unexpected keyword argument 'query_embedding'", "module": "rag_service", "function": "_retrieve_relevant_documents", "line": 226, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T23:35:32.311852", "level": "ERROR", "logger": "services.ollama_service", "message": "Timeout lors de l'appel à Ollama", "module": "ollama_service", "function": "generate_response", "line": 155, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T23:35:32.313903", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la génération RAG: La génération a pris trop de temps. Veuillez réessayer.", "module": "rag_service", "function": "generate_response", "line": 110, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T23:39:34.763307", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la recherche de documents: EmbeddingService.search_similar_documents() got an unexpected keyword argument 'query_embedding'", "module": "rag_service", "function": "_retrieve_relevant_documents", "line": 226, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-23T23:46:18.578277", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T01:48:42.020782", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T01:49:01.733716", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T01:50:20.176385", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:01:44.270424", "level": "ERROR", "logger": "core.database", "message": "Database session error: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:01:44.375359", "level": "ERROR", "logger": "main", "message": "Global exception for http://127.0.0.1:8000/api/v1/documents/?skip=0&limit=50: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n", "module": "main", "function": "global_exception_handler", "line": 211, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 20, in __call__\n    await responder(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 39, in __call__\n    await self.app(scope, receive, self.send_with_gzip)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=6, filename='328acb0c-9bbe-4496-b43e-0bd0e0ab8a85_cv.txt', title=None, document_type=<DocumentType.TXT: 'txt'>, file_size_mb=0.0, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=3, is_active=True, created_at=datetime.datetime(2025, 8, 24, 0, 18, 23, 500356, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 0, 'limit': 50}}\n"}
{"timestamp": "2025-08-24T02:02:29.354098", "level": "ERROR", "logger": "core.database", "message": "Database session error: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:02:29.394404", "level": "ERROR", "logger": "main", "message": "Global exception for http://127.0.0.1:8000/api/v1/documents/?skip=1&limit=50: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n", "module": "main", "function": "global_exception_handler", "line": 211, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 20, in __call__\n    await responder(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 39, in __call__\n    await self.app(scope, receive, self.send_with_gzip)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n"}
{"timestamp": "2025-08-24T02:02:30.582983", "level": "ERROR", "logger": "core.database", "message": "Database session error: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:02:30.612997", "level": "ERROR", "logger": "main", "message": "Global exception for http://127.0.0.1:8000/api/v1/documents/?skip=1&limit=50: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n", "module": "main", "function": "global_exception_handler", "line": 211, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\errors.py\", line 165, in __call__\n    await self.app(scope, receive, _send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\cors.py\", line 85, in __call__\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 20, in __call__\n    await responder(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\gzip.py\", line 39, in __call__\n    await self.app(scope, receive, self.send_with_gzip)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\middleware\\exceptions.py\", line 62, in __call__\n    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 715, in __call__\n    await self.middleware_stack(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 735, in app\n    await route.handle(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 288, in handle\n    await self.app(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 76, in app\n    await wrap_app_handling_exceptions(app, request)(scope, receive, send)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 53, in wrapped_app\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\_exception_handler.py\", line 42, in wrapped_app\n    await app(scope, receive, sender)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\routing.py\", line 73, in app\n    response = await f(request)\n               ^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 327, in app\n    content = await serialize_response(\n              ^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<9 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\fastapi\\routing.py\", line 176, in serialize_response\n    raise ResponseValidationError(\n        errors=_normalize_errors(errors), body=response_content\n    )\nfastapi.exceptions.ResponseValidationError: 8 validation errors:\n  {'type': 'missing', 'loc': ('response', 'id'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'filename'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'document_type'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'file_size_mb'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'embeddings_status'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'chunk_count'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'is_active'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n  {'type': 'missing', 'loc': ('response', 'created_at'), 'msg': 'Field required', 'input': {'documents': [DocumentListResponse(id=5, filename='a28d577a-4b1e-4bca-9bfb-12faa6ec21a5_pyspark_resume.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.12, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=10, is_active=True, created_at=datetime.datetime(2025, 8, 23, 0, 30, 24, 937364, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=4, filename='4bd523e2-bc79-4577-b05b-d5acdf51f3e9_PostgresSQl.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.09, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=9, is_active=True, created_at=datetime.datetime(2025, 8, 22, 21, 53, 23, 563664, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200)))), DocumentListResponse(id=3, filename='18b5472f-a632-4316-ba59-db7d01c035b7_MUSTPHA_IDABELLA.pdf', title=None, document_type=<DocumentType.PDF: 'pdf'>, file_size_mb=0.1, embeddings_status=<EmbeddingStatus.COMPLETED: 'completed'>, chunk_count=4, is_active=True, created_at=datetime.datetime(2025, 8, 22, 17, 58, 38, 783694, tzinfo=datetime.timezone(datetime.timedelta(seconds=7200))))], 'total': 4, 'skip': 1, 'limit': 50}}\n"}
{"timestamp": "2025-08-24T02:11:07.053521", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:11:16.736140", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:11:45.328842", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.461717", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.462778", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.463227", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.463969", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.464946", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.465287", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.466048", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.467295", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.467710", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.468378", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.469707", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.470089", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.471000", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.472052", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:20.472437", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 7: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.503492", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 8: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.504231", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.504526", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 8: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.505050", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 8: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.505739", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.505972", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 8: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.506431", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la suppression du document 8: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "delete_document", "line": 404, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.507198", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de la generation des embeddings: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "generate_embeddings", "line": 108, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:13:58.507432", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 8: cannot schedule new futures after shutdown", "module": "embedding_service", "function": "index_document", "line": 184, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T02:14:43.566574", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la recherche de documents: EmbeddingService.search_similar_documents() got an unexpected keyword argument 'query_embedding'", "module": "rag_service", "function": "_retrieve_relevant_documents", "line": 226, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:01:50.269847", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:01:58.914675", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:04.819511", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:11.448009", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:15.847956", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:20.456507", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:24.865413", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:28.826589", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:32.616926", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:36.883048", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:39.423171", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:02:44.077320", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Conversation non trouvée", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:03:12.438037", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:03:29.926900", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:07.664721", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 9: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:07.666505", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:07.667096", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 9: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:07.668544", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:07.669088", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 9: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:07.670622", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.422523", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 10: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.423925", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.424507", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 10: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.425551", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.426103", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 10: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.427144", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.427650", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 10: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.428868", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.429524", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 10: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:04:25.430655", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:43:26.838344", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 11: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:43:26.840077", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:43:26.840659", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 11: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:43:26.842097", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:43:26.842714", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 11: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:43:26.844247", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.211068", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 12: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.230965", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.231552", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 12: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.232688", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.233268", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 12: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.234415", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.234984", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 12: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.236168", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.236726", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 12: EmbeddingService non initialisé", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T03:44:05.238147", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 139, in index_document\n    raise RuntimeError(\"EmbeddingService non initialisé\")\nRuntimeError: EmbeddingService non initialisé\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:17:24.324701", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:18:11.690700", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 13: Expected metadata value to be a str, int, float, bool, or None, got {'school': 'ENSA Agadir', 'school_confirmed': 'ENSA Agadir', 'specialty': 'Data Science', 'specialty_confirmed': 'Data Science'} which is a dict in add.", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:18:11.774979", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 80, in add\n    add_request = self._validate_and_prepare_add_request(\n        ids=ids,\n    ...<4 lines>...\n        uris=uris,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\CollectionCommon.py\", line 95, in wrapper\n    return func(self, *args, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\CollectionCommon.py\", line 219, in _validate_and_prepare_add_request\n    validate_insert_record_set(record_set=add_records)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\types.py\", line 314, in validate_insert_record_set\n    validate_metadatas(record_set[\"metadatas\"])\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\types.py\", line 791, in validate_metadatas\n    validate_metadata(metadata)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\types.py\", line 757, in validate_metadata\n    raise ValueError(\n        f\"Expected metadata value to be a str, int, float, bool, or None, got {value} which is a {type(value).__name__}\"\n    )\nValueError: Expected metadata value to be a str, int, float, bool, or None, got {'school': 'ENSA Agadir', 'school_confirmed': 'ENSA Agadir', 'specialty': 'Data Science', 'specialty_confirmed': 'Data Science'} which is a dict in add.\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:18:11.864426", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 13: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:18:11.890494", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 89, in add\n    self._client._add(\n    ~~~~~~~~~~~~~~~~~^\n        collection_id=self.id,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        database=self.database,\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\rust.py\", line 407, in _add\n    return self.bindings.add(\n           ~~~~~~~~~~~~~~~~~^\n        ids,\n        ^^^^\n    ...<6 lines>...\n        database,\n        ^^^^^^^^^\n    )\n    ^\nTypeError: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:18:11.948317", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 13: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:18:11.954036", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 89, in add\n    self._client._add(\n    ~~~~~~~~~~~~~~~~~^\n        collection_id=self.id,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        database=self.database,\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\rust.py\", line 407, in _add\n    return self.bindings.add(\n           ~~~~~~~~~~~~~~~~~^\n        ids,\n        ^^^^\n    ...<6 lines>...\n        database,\n        ^^^^^^^^^\n    )\n    ^\nTypeError: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:15.812088", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:31.744698", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 14: Expected metadata value to be a str, int, float, bool, or None, got {'school': 'ENSA Agadir', 'school_confirmed': 'ENSA Agadir', 'specialty': 'DATA SCIENCE', 'specialty_confirmed': 'Data Science'} which is a dict in add.", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:31.750506", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 80, in add\n    add_request = self._validate_and_prepare_add_request(\n        ids=ids,\n    ...<4 lines>...\n        uris=uris,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\CollectionCommon.py\", line 95, in wrapper\n    return func(self, *args, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\CollectionCommon.py\", line 219, in _validate_and_prepare_add_request\n    validate_insert_record_set(record_set=add_records)\n    ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\types.py\", line 314, in validate_insert_record_set\n    validate_metadatas(record_set[\"metadatas\"])\n    ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\types.py\", line 791, in validate_metadatas\n    validate_metadata(metadata)\n    ~~~~~~~~~~~~~~~~~^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\types.py\", line 757, in validate_metadata\n    raise ValueError(\n        f\"Expected metadata value to be a str, int, float, bool, or None, got {value} which is a {type(value).__name__}\"\n    )\nValueError: Expected metadata value to be a str, int, float, bool, or None, got {'school': 'ENSA Agadir', 'school_confirmed': 'ENSA Agadir', 'specialty': 'DATA SCIENCE', 'specialty_confirmed': 'Data Science'} which is a dict in add.\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:31.822470", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 14: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:31.826905", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 89, in add\n    self._client._add(\n    ~~~~~~~~~~~~~~~~~^\n        collection_id=self.id,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        database=self.database,\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\rust.py\", line 407, in _add\n    return self.bindings.add(\n           ~~~~~~~~~~~~~~~~~^\n        ids,\n        ^^^^\n    ...<6 lines>...\n        database,\n        ^^^^^^^^^\n    )\n    ^\nTypeError: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:31.931070", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 14: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:31.935631", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 89, in add\n    self._client._add(\n    ~~~~~~~~~~~~~~~~~^\n        collection_id=self.id,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        database=self.database,\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\rust.py\", line 407, in _add\n    return self.bindings.add(\n           ~~~~~~~~~~~~~~~~~^\n        ids,\n        ^^^^\n    ...<6 lines>...\n        database,\n        ^^^^^^^^^\n    )\n    ^\nTypeError: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:32.027214", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 14: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:32.031492", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 89, in add\n    self._client._add(\n    ~~~~~~~~~~~~~~~~~^\n        collection_id=self.id,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        database=self.database,\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\rust.py\", line 407, in _add\n    return self.bindings.add(\n           ~~~~~~~~~~~~~~~~~^\n        ids,\n        ^^^^\n    ...<6 lines>...\n        database,\n        ^^^^^^^^^\n    )\n    ^\nTypeError: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:32.053093", "level": "ERROR", "logger": "services.embedding_service", "message": "❌ Erreur lors de l'indexation du document 14: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'", "module": "embedding_service", "function": "index_document", "line": 204, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:20:32.058169", "level": "ERROR", "logger": "services.embedding_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 188, in index_document\n    self.collection.add(\n    ~~~~~~~~~~~~~~~~~~~^\n        ids=chunk_ids,\n        ^^^^^^^^^^^^^^\n    ...<2 lines>...\n        metadatas=chunk_metadata\n        ^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\models\\Collection.py\", line 89, in add\n    self._client._add(\n    ~~~~~~~~~~~~~~~~~^\n        collection_id=self.id,\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ...<6 lines>...\n        database=self.database,\n        ^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\chromadb\\api\\rust.py\", line 407, in _add\n    return self.bindings.add(\n           ~~~~~~~~~~~~~~~~~^\n        ids,\n        ^^^^\n    ...<6 lines>...\n        database,\n        ^^^^^^^^^\n    )\n    ^\nTypeError: argument 'metadatas': failed to extract enum MetadataValue ('Bool | Int | Float | Str')\n- variant Bool (Bool): TypeError: failed to extract field MetadataValue::Bool.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyBool'\n- variant Int (Int): TypeError: failed to extract field MetadataValue::Int.0, caused by TypeError: 'NoneType' object cannot be interpreted as an integer\n- variant Float (Float): TypeError: failed to extract field MetadataValue::Float.0, caused by TypeError: must be real number, not NoneType\n- variant Str (Str): TypeError: failed to extract field MetadataValue::Str.0, caused by TypeError: 'NoneType' object cannot be converted to 'PyString'\n", "module": "embedding_service", "function": "index_document", "line": 206, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:48:51.431679", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:49:11.967959", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:49:19.718118", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T04:49:36.261075", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T05:00:39.665783", "level": "ERROR", "logger": "services.ollama_service", "message": "Timeout lors de l'appel à Ollama", "module": "ollama_service", "function": "generate_response", "line": 155, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T05:00:39.668194", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la génération RAG: La génération a pris trop de temps. Veuillez réessayer.", "module": "rag_service", "function": "generate_response", "line": 144, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T05:00:40.093586", "level": "ERROR", "logger": "services.rag_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 101, in map_httpcore_exceptions\n    yield\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 394, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\connection_pool.py\", line 256, in handle_async_request\n    raise exc from None\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\connection_pool.py\", line 236, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        pool_request.request\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\connection.py\", line 103, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 136, in handle_async_request\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 106, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 177, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 217, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        self.READ_NUM_BYTES, timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_backends\\anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n         ~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\ollama_service.py\", line 135, in generate_response\n    response = await client.post(\n               ^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1859, in post\n    return await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n    ...<13 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1540, in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1629, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1657, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1694, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1730, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 393, in handle_async_request\n    with map_httpcore_exceptions():\n         ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 125, in generate_response\n    generated_response = await self.ollama_service.generate_response(\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\ollama_service.py\", line 156, in generate_response\n    raise Exception(\"La génération a pris trop de temps. Veuillez réessayer.\")\nException: La génération a pris trop de temps. Veuillez réessayer.\n", "module": "rag_service", "function": "generate_response", "line": 146, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T17:05:57.865435", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T17:06:05.024364", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T17:09:55.885723", "level": "ERROR", "logger": "services.ollama_service", "message": "Timeout lors de l'appel à Ollama", "module": "ollama_service", "function": "generate_response", "line": 155, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T17:09:55.888108", "level": "ERROR", "logger": "services.rag_service", "message": "Erreur lors de la génération RAG: La génération a pris trop de temps. Veuillez réessayer.", "module": "rag_service", "function": "generate_response", "line": 144, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T17:09:56.012887", "level": "ERROR", "logger": "services.rag_service", "message": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 101, in map_httpcore_exceptions\n    yield\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 394, in handle_async_request\n    resp = await self._pool.handle_async_request(req)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\connection_pool.py\", line 256, in handle_async_request\n    raise exc from None\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\connection_pool.py\", line 236, in handle_async_request\n    response = await connection.handle_async_request(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        pool_request.request\n        ^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\connection.py\", line 103, in handle_async_request\n    return await self._connection.handle_async_request(request)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 136, in handle_async_request\n    raise exc\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 106, in handle_async_request\n    ) = await self._receive_response_headers(**kwargs)\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 177, in _receive_response_headers\n    event = await self._receive_event(timeout=timeout)\n            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_async\\http11.py\", line 217, in _receive_event\n    data = await self._network_stream.read(\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        self.READ_NUM_BYTES, timeout=timeout\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_backends\\anyio.py\", line 32, in read\n    with map_exceptions(exc_map):\n         ~~~~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpcore\\_exceptions.py\", line 14, in map_exceptions\n    raise to_exc(exc) from exc\nhttpcore.ReadTimeout\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\ollama_service.py\", line 135, in generate_response\n    response = await client.post(\n               ^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1859, in post\n    return await self.request(\n           ^^^^^^^^^^^^^^^^^^^\n    ...<13 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1540, in request\n    return await self.send(request, auth=auth, follow_redirects=follow_redirects)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1629, in send\n    response = await self._send_handling_auth(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<4 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1657, in _send_handling_auth\n    response = await self._send_handling_redirects(\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<3 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1694, in _send_handling_redirects\n    response = await self._send_single_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_client.py\", line 1730, in _send_single_request\n    response = await transport.handle_async_request(request)\n               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 393, in handle_async_request\n    with map_httpcore_exceptions():\n         ~~~~~~~~~~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\contextlib.py\", line 162, in __exit__\n    self.gen.throw(value)\n    ~~~~~~~~~~~~~~^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\httpx\\_transports\\default.py\", line 118, in map_httpcore_exceptions\n    raise mapped_exc(message) from exc\nhttpx.ReadTimeout\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\rag_service.py\", line 125, in generate_response\n    generated_response = await self.ollama_service.generate_response(\n                         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\ollama_service.py\", line 156, in generate_response\n    raise Exception(\"La génération a pris trop de temps. Veuillez réessayer.\")\nException: La génération a pris trop de temps. Veuillez réessayer.\n", "module": "rag_service", "function": "generate_response", "line": 146, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:33:02.215065", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002BB01178F50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:33:02.217358", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002BB000BB6B0>, 1139638.1295521)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002BB01178B90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:33:43.141318", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:33:48.631623", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:36:02.424030", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002BB0117BED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:36:02.425203", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002BB02CBD970>, 1139818.3381454)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002BB0117BB10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:43:38.226486", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:43:45.869769", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:43:49.863141", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:43:54.923145", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:44:11.664959", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:44:18.042232", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouve", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:46:02.640261", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: Object of type datetime is not JSON serializable", "module": "chat", "function": "send_message", "line": 153, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 142, in send_message\n    return JSONResponse(\n        content=formatted_response,\n    ...<5 lines>...\n        }\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable"}
{"timestamp": "2025-08-24T18:46:02.643605", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001D372E2DF90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:46:02.644668", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001D301BE51F0>, 1140418.5011409)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001D372E2DE50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:46:29.441795", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: Object of type datetime is not JSON serializable", "module": "chat", "function": "send_message", "line": 153, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 142, in send_message\n    return JSONResponse(\n        content=formatted_response,\n    ...<5 lines>...\n        }\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable"}
{"timestamp": "2025-08-24T18:46:29.445954", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001D372E2F110>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T18:46:29.448549", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001D301C85250>, 1140445.3628335)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001D372E2D6D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T20:17:34.274966", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D372E2EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 78736666-741c-4ba1-af1b-06a934d58d78)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T20:17:34.650900", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D372E2EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 78736666-741c-4ba1-af1b-06a934d58d78)')", "module": "chat", "function": "send_message", "line": 153, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x000001D372E2EE90>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D372E2EE90>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 116, in send_message\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D372E2EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 78736666-741c-4ba1-af1b-06a934d58d78)')"}
{"timestamp": "2025-08-24T20:17:43.663585", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D30334E0D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: f9a4b098-129f-4a9a-a0be-a860790e59c5)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T20:17:43.725672", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D30334E0D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: f9a4b098-129f-4a9a-a0be-a860790e59c5)')", "module": "chat", "function": "send_message", "line": 153, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x000001D30334E0D0>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D30334E0D0>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 116, in send_message\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001D30334E0D0>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: f9a4b098-129f-4a9a-a0be-a860790e59c5)')"}
{"timestamp": "2025-08-24T20:35:33.386577", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000233C1B55450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 35a7a5ae-1e34-4312-9366-8b0927fe8161)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T20:35:33.387202", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize EmbeddingService: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000233C1B55450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 35a7a5ae-1e34-4312-9366-8b0927fe8161)')", "module": "main", "function": "lifespan", "line": 102, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T20:35:33.423581", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000233C1B55450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 35a7a5ae-1e34-4312-9366-8b0927fe8161)')", "module": "main", "function": "lifespan", "line": 124, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x00000233C1B55450>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000233C1B55450>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 99, in lifespan\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000233C1B55450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 35a7a5ae-1e34-4312-9366-8b0927fe8161)')"}
{"timestamp": "2025-08-24T21:09:35.465725", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: Object of type datetime is not JSON serializable", "module": "chat", "function": "send_message", "line": 153, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 142, in send_message\n    return JSONResponse(\n        content=formatted_response,\n    ...<5 lines>...\n        }\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable"}
{"timestamp": "2025-08-24T21:09:35.467516", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002759C0DEAD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:09:35.468084", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002759DCAA810>, 1149023.1513236)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002759C0DC2D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:10:49.079717", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: Object of type datetime is not JSON serializable", "module": "chat", "function": "send_message", "line": 153, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 142, in send_message\n    return JSONResponse(\n        content=formatted_response,\n    ...<5 lines>...\n        }\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 180, in __init__\n    super().__init__(content, status_code, headers, media_type, background)\n    ~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 43, in __init__\n    self.body = self.render(content)\n                ~~~~~~~~~~~^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\starlette\\responses.py\", line 183, in render\n    return json.dumps(\n           ~~~~~~~~~~^\n        content,\n        ^^^^^^^^\n    ...<3 lines>...\n        separators=(\",\", \":\"),\n        ^^^^^^^^^^^^^^^^^^^^^^\n    ).encode(\"utf-8\")\n    ^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\__init__.py\", line 238, in dumps\n    **kw).encode(obj)\n          ~~~~~~^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 200, in encode\n    chunks = self.iterencode(o, _one_shot=True)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 261, in iterencode\n    return _iterencode(o, 0)\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\json\\encoder.py\", line 180, in default\n    raise TypeError(f'Object of type {o.__class__.__name__} '\n                    f'is not JSON serializable')\nTypeError: Object of type datetime is not JSON serializable"}
{"timestamp": "2025-08-24T21:10:49.081743", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002759C0DFD90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:10:49.082335", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002759FA4B590>, 1149096.7771644)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002759C0DE990>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:32:15.203276", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:41:58.391121", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002C8A6CB4CD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:41:58.391806", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002C8A6CFA990>, 1150966.0829394)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002C8A6CB51D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:43:14.049865", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002C8A6CB6E90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:43:14.050646", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002C8A8EAAC30>, 1151041.7403405)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002C8A6CB4A50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:51:41.746848", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002C8A6CB4550>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 7aef251a-8f8b-488c-9d48-e2f22b14cdad)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:51:41.963516", "level": "ERROR", "logger": "api.v1.endpoints.chat", "message": "Error processing message: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002C8A6CB4550>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 7aef251a-8f8b-488c-9d48-e2f22b14cdad)')", "module": "chat", "function": "send_message", "line": 169, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x000002C8A6CB4550>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002C8A6CB4550>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\chat.py\", line 129, in send_message\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002C8A6CB4550>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 7aef251a-8f8b-488c-9d48-e2f22b14cdad)')"}
{"timestamp": "2025-08-24T21:55:08.775139", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000022CABFC5450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 887bab06-a964-4c80-aea4-22d38a926296)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:55:08.775659", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize EmbeddingService: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000022CABFC5450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 887bab06-a964-4c80-aea4-22d38a926296)')", "module": "main", "function": "lifespan", "line": 102, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:55:08.803592", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000022CABFC5450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 887bab06-a964-4c80-aea4-22d38a926296)')", "module": "main", "function": "lifespan", "line": 124, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x0000022CABFC5450>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000022CABFC5450>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 99, in lifespan\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000022CABFC5450>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 887bab06-a964-4c80-aea4-22d38a926296)')"}
{"timestamp": "2025-08-24T21:58:43.179182", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002548E7E1590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: a3faeaf1-5a21-43cb-a385-7ccc07184fec)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:58:43.179683", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize EmbeddingService: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002548E7E1590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: a3faeaf1-5a21-43cb-a385-7ccc07184fec)')", "module": "main", "function": "lifespan", "line": 102, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:58:43.206206", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002548E7E1590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: a3faeaf1-5a21-43cb-a385-7ccc07184fec)')", "module": "main", "function": "lifespan", "line": 124, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x000002548E7E1590>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002548E7E1590>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 99, in lifespan\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000002548E7E1590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: a3faeaf1-5a21-43cb-a385-7ccc07184fec)')"}
{"timestamp": "2025-08-24T21:59:52.091541", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000028F45875590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 06f912fc-847f-4dba-b7eb-86f89643f7b8)')", "module": "embedding_service", "function": "initialize", "line": 106, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:59:52.092240", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize EmbeddingService: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000028F45875590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 06f912fc-847f-4dba-b7eb-86f89643f7b8)')", "module": "main", "function": "lifespan", "line": 102, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-24T21:59:52.127036", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000028F45875590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 06f912fc-847f-4dba-b7eb-86f89643f7b8)')", "module": "main", "function": "lifespan", "line": 124, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x0000028F45875590>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000028F45875590>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 99, in lifespan\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 87, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x0000028F45875590>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: 06f912fc-847f-4dba-b7eb-86f89643f7b8)')"}
{"timestamp": "2025-08-25T01:17:06.058158", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001B43888BC50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T01:17:06.060724", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001B439A07BF0>, 1163874.8930175)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001B43888B890>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T01:35:45.031058", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x0000015BA6133ED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T01:35:45.032688", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x0000015BA72EBD70>, 1164993.867763)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x0000015BA6133B10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T01:48:41.042112", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x0000015BA71D2490>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T01:48:41.044423", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x0000015BA7279D90>, 1165769.877157)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x0000015BA71D1F90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:40:22.861722", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction TXT: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_txt_content", "line": 468, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:40:22.862988", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:40:22.863788", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\094dce61-2683-41d9-b06e-cf067bc63021_CV_Mustapha_Idabella.txt: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:40:22.868861", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:41:07.358348", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction TXT: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_txt_content", "line": 468, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:41:07.359357", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:41:07.360219", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\fcf7dda7-49be-48d5-8936-efe8bd028cf0_CV_Mustapha_Idabella.txt: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:41:07.387441", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:04.379243", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction TXT: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_txt_content", "line": 468, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:04.400901", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:04.401584", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\c61f46a8-a4d8-4c43-ae90-10a33ea86d8c_CV_Mustapha_Idabella.txt: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:04.405874", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:35.422549", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction TXT: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_txt_content", "line": 468, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:35.423670", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:35.424334", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\acbfc574-17a2-4a10-add3-26de2f549ddc_CV_Mustapha_Idabella.txt: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T03:49:35.452667", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: 'charmap' codec can't decode byte 0x9e in position 80: character maps to <undefined>", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:04:15.651613", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction TXT: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "document_service", "function": "_extract_txt_content", "line": 468, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:04:15.652710", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:04:15.653215", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\fb8cdedd-b130-4965-8ac0-2bac9ca8ebab_CV_Mustapha_Idabella.txt: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:04:15.680695", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:58:51.532722", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction TXT: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "document_service", "function": "_extract_txt_content", "line": 468, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:58:51.534055", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:58:51.534745", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\a4738031-7dc4-4d9a-982b-4f8487fa219a_CV_Mustapha_Idabella.txt: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T04:58:51.562374", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: 'charmap' codec can't decode byte 0x9e in position 79: character maps to <undefined>", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:11:43.653858", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001ECA994EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: ab16748a-4c8d-4d07-9d65-0078c38180b1)')", "module": "embedding_service", "function": "initialize", "line": 53, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:11:43.975500", "level": "ERROR", "logger": "api.v1.endpoints.documents", "message": "Erreur lors du traitement du document: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001ECA994EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: ab16748a-4c8d-4d07-9d65-0078c38180b1)')", "module": "documents", "function": "upload_document", "line": 298, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x000001ECA994EE90>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001ECA994EE90>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\documents.py\", line 242, in upload_document\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 36, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001ECA994EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: ab16748a-4c8d-4d07-9d65-0078c38180b1)')"}
{"timestamp": "2025-08-25T05:11:43.992370", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du traitement: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x000001ECA994EE90>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: ab16748a-4c8d-4d07-9d65-0078c38180b1)')", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:12:39.061543", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:13:03.558418", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: Impossible d'extraire le contenu du PDF: uploads\\data\\fb9f918f-db8b-4824-886d-97449c0cbef2_ORANGE CONTRAT.pdf", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:13:03.559176", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\fb9f918f-db8b-4824-886d-97449c0cbef2_ORANGE CONTRAT.pdf: Impossible d'extraire le contenu du PDF: uploads\\data\\fb9f918f-db8b-4824-886d-97449c0cbef2_ORANGE CONTRAT.pdf", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:13:03.586024", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Impossible d'extraire le contenu du PDF: uploads\\data\\fb9f918f-db8b-4824-886d-97449c0cbef2_ORANGE CONTRAT.pdf", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:18:40.701351", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001ECA994F890>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T05:18:40.702486", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001ECAA05A990>, 1178369.5365387)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001ECA997EE90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T16:35:35.361313", "level": "ERROR", "logger": "services.embedding_service", "message": "Erreur lors de l'initialisation du service d'embeddings: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000238D68B5810>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: daa78784-17ef-4438-afb4-7e2672101f42)')", "module": "embedding_service", "function": "initialize", "line": 53, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T16:35:35.362271", "level": "ERROR", "logger": "main", "message": "❌ Failed to initialize EmbeddingService: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000238D68B5810>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: daa78784-17ef-4438-afb4-7e2672101f42)')", "module": "main", "function": "lifespan", "line": 102, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T16:35:35.431771", "level": "ERROR", "logger": "main", "message": "❌ Error during startup: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000238D68B5810>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: daa78784-17ef-4438-afb4-7e2672101f42)')", "module": "main", "function": "lifespan", "line": 124, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 198, in _new_conn\n    sock = connection.create_connection(\n        (self._dns_host, self.port),\n    ...<2 lines>...\n        socket_options=self.socket_options,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\connection.py\", line 60, in create_connection\n    for res in socket.getaddrinfo(host, port, family, socket.SOCK_STREAM):\n               ~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\AppData\\Local\\Programs\\Python\\Python313\\Lib\\socket.py\", line 977, in getaddrinfo\n    for res in _socket.getaddrinfo(host, port, family, type, proto, flags):\n               ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsocket.gaierror: [Errno 11001] getaddrinfo failed\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 787, in urlopen\n    response = self._make_request(\n        conn,\n    ...<10 lines>...\n        **response_kw,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 488, in _make_request\n    raise new_e\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 464, in _make_request\n    self._validate_conn(conn)\n    ~~~~~~~~~~~~~~~~~~~^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 1093, in _validate_conn\n    conn.connect()\n    ~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 753, in connect\n    self.sock = sock = self._new_conn()\n                       ~~~~~~~~~~~~~~^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connection.py\", line 205, in _new_conn\n    raise NameResolutionError(self.host, self, e) from e\nurllib3.exceptions.NameResolutionError: <urllib3.connection.HTTPSConnection object at 0x00000238D68B5810>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\n\nThe above exception was the direct cause of the following exception:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 667, in send\n    resp = conn.urlopen(\n        method=request.method,\n    ...<9 lines>...\n        chunked=chunked,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\connectionpool.py\", line 841, in urlopen\n    retries = retries.increment(\n        method, url, error=new_e, _pool=self, _stacktrace=sys.exc_info()[2]\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\urllib3\\util\\retry.py\", line 519, in increment\n    raise MaxRetryError(_pool, url, reason) from reason  # type: ignore[arg-type]\n    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nurllib3.exceptions.MaxRetryError: HTTPSConnectionPool(host='huggingface.co', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000238D68B5810>: Failed to resolve 'huggingface.co' ([Errno 11001] getaddrinfo failed)\"))\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\main.py\", line 99, in lifespan\n    await embedding_service.initialize()\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\embedding_service.py\", line 36, in initialize\n    self.model = SentenceTransformer(self.model_name)\n                 ~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 327, in __init__\n    modules, self.module_kwargs = self._load_sbert_model(\n                                  ~~~~~~~~~~~~~~~~~~~~~~^\n        model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^\n    ...<7 lines>...\n        config_kwargs=config_kwargs,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\SentenceTransformer.py\", line 2253, in _load_sbert_model\n    module = module_class.load(\n        model_name_or_path,\n    ...<11 lines>...\n        backend=self.backend,\n    )\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 338, in load\n    return cls(model_name_or_path=model_name_or_path, **init_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\sentence_transformers\\models\\Transformer.py\", line 91, in __init__\n    self.tokenizer = AutoTokenizer.from_pretrained(\n                     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^\n        tokenizer_name_or_path if tokenizer_name_or_path is not None else model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n        **tokenizer_args,\n        ^^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\models\\auto\\tokenization_auto.py\", line 1116, in from_pretrained\n    return tokenizer_class.from_pretrained(pretrained_model_name_or_path, *inputs, **kwargs)\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\tokenization_utils_base.py\", line 2012, in from_pretrained\n    for template in list_repo_templates(\n                    ~~~~~~~~~~~~~~~~~~~^\n        pretrained_model_name_or_path,\n        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        cache_dir=cache_dir,\n        ^^^^^^^^^^^^^^^^^^^^\n    ):\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\transformers\\utils\\hub.py\", line 169, in list_repo_templates\n    for entry in list_repo_tree(\n                 ~~~~~~~~~~~~~~^\n        repo_id=repo_id,\n        ^^^^^^^^^^^^^^^^\n    ...<2 lines>...\n        recursive=False,\n        ^^^^^^^^^^^^^^^^\n    )\n    ^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\hf_api.py\", line 3177, in list_repo_tree\n    for path_info in paginate(path=tree_url, headers=headers, params={\"recursive\": recursive, \"expand\": expand}):\n                     ~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_pagination.py\", line 36, in paginate\n    r = session.get(path, params=params, headers=headers)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 602, in get\n    return self.request(\"GET\", url, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 589, in request\n    resp = self.send(prep, **send_kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\sessions.py\", line 703, in send\n    r = adapter.send(request, **kwargs)\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\huggingface_hub\\utils\\_http.py\", line 96, in send\n    return super().send(request, *args, **kwargs)\n           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\venv\\Lib\\site-packages\\requests\\adapters.py\", line 700, in send\n    raise ConnectionError(e, request=request)\nrequests.exceptions.ConnectionError: (MaxRetryError('HTTPSConnectionPool(host=\\'huggingface.co\\', port=443): Max retries exceeded with url: /api/models/sentence-transformers/all-MiniLM-L6-v2/tree/main/additional_chat_templates?recursive=False&expand=False (Caused by NameResolutionError(\"<urllib3.connection.HTTPSConnection object at 0x00000238D68B5810>: Failed to resolve \\'huggingface.co\\' ([Errno 11001] getaddrinfo failed)\"))'), '(Request ID: daa78784-17ef-4438-afb4-7e2672101f42)')"}
{"timestamp": "2025-08-25T16:38:28.877857", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x0000027727A60050>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-25T16:38:28.878498", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x0000027727BA3CB0>, 1219160.0357001)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000277269C3C50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:01:28.640754", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002311701A990>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:01:28.644264", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002311A15B830>, 1519356.0226643)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002311701A5D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:01:39.391896", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002311A2087D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:01:39.393317", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002311704F470>, 1519366.774157)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002311A208550>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:24:35.629317", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x00000286EC4BC190>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:24:35.632535", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000286EC3EEAB0>, 1520742.6910032)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000286EB247D90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:26:06.612984", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x00000286EC4BEFD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:26:06.614596", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000286801C1D90>, 1520833.9955889)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000286EC4BEC10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:26:47.921095", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x00000286EB1D3B10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:26:47.922676", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000286801C0D70>, 1520875.3040815)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000286EB1D39D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:27:39.043812", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x00000286EB247D90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:27:39.045284", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000286801C0770>, 1520926.4263127)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000286EB1D3B10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:28:14.958581", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x00000286EB245D10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:28:14.959965", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000286801C15B0>, 1520962.3422267)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000286EB246710>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:39:01.275891", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x0000024080178190>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:39:01.277651", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000240F487EFF0>, 1521608.6545995)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000240F46ABD90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:57:41.719770", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T04:59:38.277798", "level": "ERROR", "logger": "core.database", "message": "Database session error: 404: Document non trouvé", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T05:01:00.173141", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001D980086490>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T05:01:00.174731", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001D9F0F7E630>, 1522927.5775531)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001D9EFE63890>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T05:02:16.890675", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001D980085D10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T05:02:16.892145", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001D981BADB50>, 1523004.2739798)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001D9800865D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T05:30:03.201464", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x00000245D7BC0410>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T05:30:03.202139", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x00000245D7CD3CB0>, 1524670.6040103)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x00000245D7BC0050>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:04:33.307004", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:14:20.407376", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:14:32.050537", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:15:26.897813", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:00.882105", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:07.435472", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:08.467872", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:08.955512", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:09.777037", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:10.386440", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:10.742719", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:11.006506", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:11.273277", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:11.528417", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:11.769204", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:12.048859", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:13.102045", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:16:16.069066", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:37:34.850022", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T06:39:10.378869", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Un utilisateur avec cet email existe déjà", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T19:20:48.103243", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T19:46:14.597423", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T19:46:14.598393", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:00:34.680284", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:00:34.682765", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:00:35.149580", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:00:35.151268", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:00:35.156372", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:00:35.157176", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:01:47.230543", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:01:47.236864", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:01:47.249845", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:01:47.252240", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:01:47.264738", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:01:47.267464", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:02:23.283354", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:03:13.695408", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:03:38.607631", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:03:38.612529", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:03:38.776755", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:03:38.778504", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:03:38.787573", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:03:38.789066", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:06:48.100920", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:06:48.104323", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:06:48.195981", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:06:48.198212", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:06:48.211082", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:06:48.213143", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:07:02.447373", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:32:12.049304", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-29T20:32:12.050155", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:32:25.708380", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-29T20:32:33.970042", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:25:18.936781", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:25:18.942368", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:25:19.127799", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:25:19.185115", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:25:19.187674", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:25:19.188053", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:25:57.045117", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:27:06.613712", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:27:06.624938", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:27:06.626382", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:46:01.893920", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC488E210>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:46:01.894930", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC4889430>, 21490.7654014)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC488DE50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:46:56.168308", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC4B74410>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:01.432376", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC488FD90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:01.433093", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC4C2C650>, 21730.3269748)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC488DD10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:09.885824", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:09.889282", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:10.766658", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:50:10.768834", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:10.775610", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:50:10.777299", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:51.802156", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC488F9D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:50:51.803173", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC4C2D010>, 21780.6987834)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC488DD10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:51:27.114825", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC4B74910>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:51:27.115859", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC4C2F590>, 21816.0110022)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC488DD10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:52:25.622466", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:52:25.626052", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:52:25.850475", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:52:26.006656", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T00:52:26.008308", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:52:26.011139", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:52:46.717445", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC4B74B90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:52:46.718385", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC4C2EDB0>, 21895.612036)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC488DD10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:53:03.125550", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC4B74050>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T00:53:03.126637", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC4C2E810>, 21912.0449109)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC4B74410>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:07:52.868265", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC4B74F50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:08:19.658798", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:08:19.662432", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:08:19.825659", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T01:08:19.884513", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T01:08:19.886194", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:08:19.886473", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:09:00.215767", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001EBC1C8A5D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T01:09:00.216505", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001EBC488A030>, 22869.0611169)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001EBC1C88B90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:15:08.318321", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002354C7E02D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:15:08.319585", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002354B7E3D10>, 26837.2077179)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002354B743ED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:15:47.941498", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002354C7E2C10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:15:47.943956", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002354C7FEFF0>, 26876.837261)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002354C7E2850>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:16:46.513444", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002354B740CD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:16:46.514563", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002354C7FF530>, 26935.4054138)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002354B743ED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:32.902688", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:32.909374", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:32.924270", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:32.930404", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:32.945268", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:32.980773", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T02:55:32.986723", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:33.057719", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T02:55:33.063330", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:33.072198", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T02:55:33.078084", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:33.086651", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T02:55:33.091618", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:55:33.098446", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T02:55:33.102029", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T02:56:07.071427", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001C402C8D950>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:00:08.634868", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001C402C8F250>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:00:08.636061", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001C402F2BEF0>, 29537.5291819)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001C402C8ED50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:00:09.559506", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001C402C8FC50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:00:09.560583", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001C402F2AED0>, 29538.4545052)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001C402C8FED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:06:17.643592", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E6812CC190>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:06:17.644547", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E6811E6810>, 29906.5616299)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E68006BD90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:06:58.753239", "level": "ERROR", "logger": "services.document_service", "message": "Erreur extraction contenu: Impossible d'extraire le contenu du PDF: uploads\\data\\541ac2b9-0ec6-4557-ba63-f2e574865ebf_ORANGE CONTRAT.pdf", "module": "document_service", "function": "_extract_content", "line": 355, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:06:58.753942", "level": "ERROR", "logger": "services.document_service", "message": "Erreur lors du traitement du document uploads\\data\\541ac2b9-0ec6-4557-ba63-f2e574865ebf_ORANGE CONTRAT.pdf: Impossible d'extraire le contenu du PDF: uploads\\data\\541ac2b9-0ec6-4557-ba63-f2e574865ebf_ORANGE CONTRAT.pdf", "module": "document_service", "function": "process_document", "line": 166, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:06:58.755758", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Impossible d'extraire le contenu du PDF: uploads\\data\\541ac2b9-0ec6-4557-ba63-f2e574865ebf_ORANGE CONTRAT.pdf", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.026605", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.031481", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.035853", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.047754", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.069639", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:08:34.075773", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.085734", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:08:34.097152", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:08:34.102155", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.103937", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.104376", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:08:34.276136", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:08:34.280364", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:09:07.974569", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBA0D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:09:07.975743", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68545E330>, 30076.8618032)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EB87D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:10:12.475880", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBB110>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:10:12.476940", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68545EF90>, 30141.371646)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EBAFD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:10:51.616980", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBAFD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:10:51.617931", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68545E570>, 30180.5161521)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EBB110>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:10:55.140646", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBBB10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:10:55.141500", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68545FD10>, 30184.0361887)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EBB9D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:01.570665", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBAFD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:01.571530", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E6811E5F10>, 30250.4115482)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EB9F90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:02.312562", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EB9950>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:02.313543", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68DF686B0>, 30251.2062175)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EB9A90>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:02.620591", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E68E540410>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:02.621352", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68DF6A4B0>, 30251.5146942)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EBBED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:03.596220", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBB390>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:12:03.596964", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68DF68CB0>, 30252.4901541)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EBB750>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.080725", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.086745", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.091123", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.102939", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.119394", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:14:40.136681", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:14:40.140520", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.163868", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.178805", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:14:40.185742", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.190832", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:14:40.202657", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:14:40.205452", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:15:01.608477", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EB9450>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:15:01.609655", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68111D790>, 30430.4988785)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E680069090>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:46.820132", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.438003", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.443922", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.450373", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:17:55.454025", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.460182", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.466009", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.481781", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:17:55.497939", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:17:55.507112", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:19:00.223284", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBBED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:19:00.224071", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68DF6A510>, 30669.138412)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E680069090>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:19:27.232228", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.837841", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.842504", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.846990", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.851012", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.855548", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.871837", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:20:16.878880", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.891323", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:20:16.990927", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:20:16.996517", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:16.996828", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:17.064701", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:20:17.068746", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:20:17.077250", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:20:17.079878", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.945905", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.950809", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.954934", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.966219", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.977382", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:21:07.982820", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.983264", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:07.999384", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:21:08.008916", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:21:08.010995", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:08.012037", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:21:08.022749", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:21:08.024120", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:27:55.097388", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:27:55.102610", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:27:55.108547", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:27:55.124515", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:27:55.127724", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:27:55.141184", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:27:55.145126", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:27:55.163329", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:27:55.166757", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.878217", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.885734", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.893669", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:30:21.897022", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.902566", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.914317", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-08-30T03:30:21.918300", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.918695", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:30:21.925375", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:37:35.354241", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBB890>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:37:35.355227", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68DF69370>, 31784.2360778)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E684EBBB10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:38:29.888884", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001E684EBBB10>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-08-30T03:38:29.889639", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001E68DF69AF0>, 31838.7816433)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001E680069090>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:39:25.288588", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:43:02.815274", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:43:02.819149", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:43:02.922759", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T13:43:02.927067", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:43:03.089665", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T13:43:03.092806", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:43:48.521352", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001A5EAC81590>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:43:48.523073", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001A5EC80D370>, 166977.615812)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001A5EAC811D0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:49:24.369683", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:49:24.375960", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:49:25.193539", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T13:49:25.251683", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T13:49:25.253511", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:49:25.253782", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:51:20.669646", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001A581818410>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:51:20.670664", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001A5816C1FD0>, 167429.7550759)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001A581818050>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:51:20.677067", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:52:54.288965", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001A581819950>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:52:54.290125", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001A5816F74D0>, 167523.4079838)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001A581023ED0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:58:50.708005", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:58:50.714823", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:58:50.761389", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T13:58:50.764237", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T13:58:50.771222", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T13:58:50.773524", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:00:49.631834", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001D43C33D450>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:00:49.633452", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001D43C312030>, 167998.7264142)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001D43C33D090>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:00:55.657874", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:00:55.666419", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:00:55.873096", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T14:00:55.877735", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:00:55.891330", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T14:00:55.893511", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:01:07.181620", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:01:24.092196", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000001D43C33C410>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:01:24.094466", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000001D43C312BD0>, 168033.1827923)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000001D43C33D450>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:12:14.330435", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:12:31.443485", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Email ou mot de passe incorrect", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:27:02.011847", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:27:02.016704", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:27:02.132358", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T14:27:02.199902", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T14:27:02.202889", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:27:02.203297", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:29:10.047931", "level": "ERROR", "logger": "core.database", "message": "Database session error: 400: Document déjà existant", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:29:54.458728", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002521BBDFC50>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:29:54.459580", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002521BF15130>, 169744.7767655)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002521BBDCCD0>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:30:58.031433", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:30:58.036328", "level": "ERROR", "logger": "core.database", "message": "Database session error: 401: Could not validate credentials", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:30:58.074355", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T14:30:58.143046", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-02T14:30:58.144735", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:30:58.146255", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:31:31.374165", "level": "ERROR", "logger": "asyncio", "message": "Unclosed client session\nclient_session: <aiohttp.client.ClientSession object at 0x000002521BBDC910>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-02T14:31:31.375098", "level": "ERROR", "logger": "asyncio", "message": "Unclosed connector\nconnections: ['deque([(<aiohttp.client_proto.ResponseHandler object at 0x000002521BF175F0>, 169841.6939058)])']\nconnector: <aiohttp.connector.TCPConnector object at 0x000002521BBDD950>", "module": "base_events", "function": "default_exception_handler", "line": 1871, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
{"timestamp": "2025-09-05T09:48:58.042124", "level": "ERROR", "logger": "api.v1.endpoints.auth", "message": "Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "auth", "function": "refresh_token", "line": 287, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null, "exception": "Traceback (most recent call last):\n  File \"C:\\Users\\h\\Desktop\\backend\\api\\v1\\endpoints\\auth.py\", line 247, in refresh_token\n    if not auth_service.is_refresh_token_valid(user_id, refresh_data.refresh_token):\n           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"C:\\Users\\h\\Desktop\\backend\\services\\auth_service.py\", line 267, in is_refresh_token_valid\n    if datetime.now(timezone.utc) > db_token.expires_at:\n       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nTypeError: can't compare offset-naive and offset-aware datetimes"}
{"timestamp": "2025-09-05T09:48:58.043954", "level": "ERROR", "logger": "core.database", "message": "Database session error: 500: Erreur lors du rafraîchissement du token: can't compare offset-naive and offset-aware datetimes", "module": "database", "function": "get_db", "line": 199, "service": "rag-chatbot", "environment": "development", "request_id": null, "user_id": null, "endpoint": null}
